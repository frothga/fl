# Author: Fred Rothganger
# Copyright (c) 2001-2004 Dept. of Computer Science and Beckman Institute,
#                         Univ. of Illinois.  All rights reserved.
# Distributed under the UIUC/NCSA Open Source License.  See LICENSE-UIUC
# for details.
#
#
# 12/2004 Fred Rothganger -- Added EXESUF for Cygwin
# 05/2005 Fred Rothganger -- Add freetype 2 library.
# Revisions Copyright 2005 Sandia Corporation.
# Under the terms of Contract DE-AC04-94AL85000 with Sandia Corporation,
# the U.S. Government retains certain rights in this software.
# Distributed under the GNU Leser General Public License.  See the file
# LICENSE for details.


# Namspace for package.  OLDNS is only used when changing namespace to
# something else.
NS = fl
OLDNS = my

# Directory structure where library will be installed.  Generally, you should
# only need to modify INSTALL_DIR.
INSTALL_DIR = $(HOME)/$(ARCH)/encap/$(NS)
INSTALL_BIN = $(INSTALL_DIR)/bin
INSTALL_LIB = $(INSTALL_DIR)/lib
INSTALL_INC = $(INSTALL_DIR)/include
INSTALL_HTML = $(INSTALL_DIR)/html
INSTALL_MAN = $(INSTALL_DIR)/man

# Directory structure for building library.  SOURCE_DIR is automatically
# determined by the Makefile.
SOURCE_BIN = $(SOURCE_DIR)/bin
SOURCE_LIB = $(SOURCE_DIR)/lib
SOURCE_INC = $(SOURCE_DIR)/include
SOURCE_HTML = $(SOURCE_DIR)/html
SOURCE_MAN = $(SOURCE_DIR)/man

# X library
X_DIR = /usr/X11R6
X_INC = -I$(X_DIR)/include
X_LIB = -L$(X_DIR)/lib -lXext -lX11 -lGL -lGLU

# LAPACK library and dependencies
FORTRAN_LIB = -lg2c
LAPACK_DIR = /usr
LAPACK_LIB = -L$(LAPACK_DIR)/lib -llapack -lblas $(FORTRAN_LIB)

# FFMPEG libaray
MPEG_DIR = /usr
MPEG_INC = -I$(MPEG_DIR)/include
MPEG_LIB = -L$(MPEG_DIR)/lib -lavformat -lavcodec -lavutil -lz

# Tiff library
TIFF_DIR = /usr
TIFF_INC = -I$(TIFF_DIR)/include
TIFF_LIB = -L$(TIFF_DIR)/lib -ltiff

# JPEG library
JPEG_DIR = /usr
JPEG_INC = -I$(JPEG_DIR)/include
JPEG_LIB = -L$(JPEG_DIR)/lib -ljpeg

# Freetype2
FT_DIR = /usr
FT_INC = -I$(FT_DIR)/include/freetype2
FT_LIB = -L$(FT_DIR)/lib -lfreetype -lz

# General C++ options
CPPFLAGS = -I$(SOURCE_INC)

# CXXFLAGS is broken up to make it easier to switch on/off certain features.
CXXFLAGS += -O3  # full optimization
#CXXFLAGS += -march=pentium  # P3 architecture
CXXFLAGS += -march=pentium4 -mfpmath=sse  # P4 architecture
CXXFLAGS += -g1   # minimal debug symbols
#CXXFLAGS += -g   # full debug symbols

# Misc configuration
#EXESUF = .exe  # for cygwin
